core:
	it would be nice to do hyphenation. http://code.google.com/p/hyphenator/ is nice, but heavyish (around 2000 LOC). most of that is just unneeded config options etc, though, the core looks reasonable; see hyphenate and hyphenateWord functions. note that it's lgpl.

gecko:
	test with firefox 4.0, and update version info
		http://blog.mozilla.com/addons/2010/11/11/making-add-on-compatible-firefox-4/
		will have to attach the button to the 'addon bar', rather than the status bar
		the addon bar is a standard 'toolbar', so things have to be rewritten accordingly
		http://mike.kaply.com/2011/01/25/the-firefox-4-add-on-bar-for-developers/
		https://developer.mozilla.org/en/The_add-on_bar
		https://developer.mozilla.org/en/XUL/Toolbars/Creating_toolbar_buttons
		this means i'll have to set the icon image using css - note that this can be a svg (see http://blog.mozilla.com/addons/2010/12/02/toolbar-buttons-in-firefox-4/ )
	include a 64x64 icon for the addon manager
		hopefully done by just putting in root - needs testing as iconURL vs icon64URL documentation conflicts
		do try a straight svg here too (just called icon.svg) (prob won't work)
		https://developer.mozilla.org/en/Install_Manifests#iconURL
	get working with firefox mobile https://wiki.mozilla.org/Mobile/Fennec/Extensions
	finish update support. this means use tool http://www.softlights.net/projects/mxtools/uhura.html to sign mozilla thing
		once it's working look into using rapper and bourne shell script to sign

build:
	set website from makefile variable / sed everywhere
	build to current directory, not web

web:
	change 'download simplyread' button to 'simplyread 0.4 source'

test:
	current tests
		test the keyboard shortcut, by sending an event;
			e=document.createEvent(...
			e.initEvent(...
			e.keyCode = ...
			document.body.dispatchEvent(e)
		window.close directly after logging to the console
	make tests for chromium and firefox engines
		https://developer.mozilla.org/en/Automated_testing_tips_and_tricks
		https://developer.mozilla.org/en/Mozmill_Tests/Addon_tests
