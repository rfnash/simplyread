core:
	inline <style> tags should be dropped. p.p1 for example is
	specified in html here:
	http://www.fringereview.co.uk/pageView.php?pagename=Latitude%20Festival%202011
		note that as this needs to also drop its children, we can't
		just use regex. whether using js remove element function is
		safe (e.g. will not affect original html when toggled) is
		unsure. doesn't look like there's a 'disable' attribute for
		the tag, so it's our best hope.

chromium:
	generate appid for use in update xml
		see GenerateId in extension.cc of chrome for how it works

gecko:
	use rapper and bourne shell script to sign
		this is difficult as mozilla wants the signature of a very particular serialisation of the update rdf
		https://developer.mozilla.org/en/Extension_Versioning,_Update_and_Compatibility#Update_RDF_Format
		openssl dgst -sha512 -binary -sign private.pem web/gecko-updates.rdf i'm pretty sure generates the correct signature. however it then has to be encoded, using asn1/der & base64. also, according to the docs only the hash is signed/hashed, whereas it looks like the whole (particularly serialised) rdf is used by uhura
	new extension api, looks nicer and more chrome-like: https://addons.mozilla.org/en-US/developers/docs/sdk/1.0/dev-guide/addon-development/api-modules.html
		'page-mod' is the main api to use for this
		'widget' is something on the addon bar

test:
	current tests
		test the keyboard shortcut, by sending an event;
			e=document.createEvent(...
			e.initEvent(...
			e.keyCode = ...
			document.body.dispatchEvent(e)
		window.close directly after logging to the console
	make tests for chromium and firefox engines
		https://developer.mozilla.org/en/Automated_testing_tips_and_tricks
		https://developer.mozilla.org/en/Mozmill_Tests/Addon_tests


# wishlist #

gecko:
	it would be nice to use the svg icon directly (smaller, faster, neater)
		firefox doesn't render the font correctly (can't find bug; test more then report it)
		doesn't automatically set the size (https://bugzilla.mozilla.org/show_bug.cgi?id=583231#c31 - may be workaroundable by setting class of the image to toolbarbutton-1)
		doesn't work for main addon icon (only toolbar) (can't find bug; test more then report it)
	get working with firefox mobile https://wiki.mozilla.org/Mobile/Fennec/Extensions

chromium:
	it would be nice to use the svg icon directly (smaller, faster, neater)
		currently not supported (http://code.google.com/p/chromium/issues/detail?id=29683)
	would be nice to have permission warning reflect the fact that no disk or network activity is done; that this is self-contained and lovely. unfortunately it isn't fine-grained enough, and we need all "tabs" permission to inject the script into any page
